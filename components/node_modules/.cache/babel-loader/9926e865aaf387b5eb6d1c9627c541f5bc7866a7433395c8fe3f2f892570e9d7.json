{"ast":null,"code":"import _slicedToArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback}from'react';import'./css/EmailComposer.css';import ImageUploader from'./ImageUploader';import ImageCarouselEmail from'./ImageCarouselEmail';// Composant pour la prévisualisation de l'e-mail\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmailPreview=function EmailPreview(_ref){var subject=_ref.subject,body=_ref.body;// Convertit le corps du texte en HTML en toute sécurité\nvar createMarkup=function createMarkup(htmlString){return{__html:htmlString};};return/*#__PURE__*/_jsxs(\"div\",{className:\"email-preview\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Pr\\xE9visualisation de l'Email\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Objet: \",subject]}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:createMarkup(body)})]});};// Composant principal pour la rédaction de l'e-mail\n// EmailComposer.js\nvar EmailComposer=function EmailComposer(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),subject=_useState2[0],setSubject=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var handleImageSelect=function handleImageSelect(image){var imageHtml=\"<img src=\\\"\".concat(image.url,\"\\\" alt=\\\"\").concat(image.alt,\"\\\" />\");setBody(body+imageHtml);};var handleDrop=useCallback(function(e){e.preventDefault();var imageUrl=e.dataTransfer.getData('text/plain');setBody(body+\"<img src=\\\"\".concat(imageUrl,\"\\\" alt=\\\"Image\\\" />\"));},[body]);return/*#__PURE__*/_jsxs(\"div\",{className:\"email-composer\",onDrop:handleDrop,onDragOver:function onDragOver(e){return e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Objet du mail\",value:subject,onChange:function onChange(e){return setSubject(e.target.value);}}),/*#__PURE__*/_jsx(ImageCarouselEmail,{}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Corps du mail\",value:body,onChange:function onChange(e){return setBody(e.target.value);}})]}),/*#__PURE__*/_jsx(ImageUploader,{onImageSelect:handleImageSelect}),/*#__PURE__*/_jsx(EmailPreview,{subject:subject,body:body})]});};export default EmailComposer;","map":{"version":3,"names":["React","useState","useCallback","ImageUploader","ImageCarouselEmail","jsx","_jsx","jsxs","_jsxs","EmailPreview","_ref","subject","body","createMarkup","htmlString","__html","className","children","dangerouslySetInnerHTML","EmailComposer","_useState","_useState2","_slicedToArray","setSubject","_useState3","_useState4","setBody","handleImageSelect","image","imageHtml","concat","url","alt","handleDrop","e","preventDefault","imageUrl","dataTransfer","getData","onDrop","onDragOver","type","placeholder","value","onChange","target","onImageSelect"],"sources":["C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/src/components/EmailComposer.js"],"sourcesContent":["import React, { useState,useCallback } from 'react';\r\nimport './css/EmailComposer.css'\r\nimport ImageUploader from './ImageUploader';\r\nimport ImageCarouselEmail from './ImageCarouselEmail';\r\n// Composant pour la prévisualisation de l'e-mail\r\nconst EmailPreview = ({ subject, body }) => {\r\n    // Convertit le corps du texte en HTML en toute sécurité\r\n    const createMarkup = htmlString => ({ __html: htmlString });\r\n\r\n    return (\r\n        <div className=\"email-preview\">\r\n            <h2>Prévisualisation de l'Email</h2>\r\n            <h3>Objet: {subject}</h3>\r\n            <div dangerouslySetInnerHTML={createMarkup(body)} />\r\n        </div>\r\n    );\r\n};\r\n\r\n// Composant principal pour la rédaction de l'e-mail\r\n// EmailComposer.js\r\n\r\n\r\n\r\nconst EmailComposer = () => {\r\n    const [subject, setSubject] = useState('');\r\n    const [body, setBody] = useState('');\r\n\r\n    const handleImageSelect = (image) => {\r\n        const imageHtml = `<img src=\"${image.url}\" alt=\"${image.alt}\" />`;\r\n        setBody(body + imageHtml);\r\n    };\r\n    const handleDrop = useCallback((e) => {\r\n        e.preventDefault();\r\n        const imageUrl = e.dataTransfer.getData('text/plain');\r\n        setBody(body + `<img src=\"${imageUrl}\" alt=\"Image\" />`);\r\n    }, [body]);\r\n    return (\r\n        <div className=\"email-composer\" onDrop={handleDrop} onDragOver={(e) => e.preventDefault()}>\r\n            <div className=\"email-form\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Objet du mail\"\r\n                    value={subject}\r\n                    onChange={(e) => setSubject(e.target.value)}\r\n                />\r\n\r\n                    {/* ...autres champs de saisie... */}\r\n\r\n                    <ImageCarouselEmail />\r\n                <textarea\r\n                    placeholder=\"Corps du mail\"\r\n                    value={body}\r\n                    onChange={(e) => setBody(e.target.value)}\r\n                />\r\n            </div>\r\n            <ImageUploader onImageSelect={handleImageSelect} />\r\n\r\n            <EmailPreview subject={subject} body={body} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EmailComposer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}