{"ast":null,"code":"import _toConsumableArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*\r\ncomposant affichant la liste du personnel actif ainsi que les inactifs\r\n */import React,{useState,useEffect}from'react';import{DragDropContext}from'react-beautiful-dnd';import ActiveHumans from'./activeHumans';import InactiveHumans from'./InactiveHumans';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HumanList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),inactiveUsers=_useState2[0],setInactiveUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),activeUsers=_useState4[0],setActiveUsers=_useState4[1];useEffect(function(){fetch('/wp-json/booker67/v1/human_ressources_actif',{// Ajustez l'URL en fonction de votre API\nheaders:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){setActiveUsers(data);setLoading(false);}).catch(function(error){return console.error('Error fetching active users:',error);});},[]);useEffect(function(){fetch('/wp-json/booker67/v1/human_ressources_inactif',{// Ajustez l'URL en fonction de votre API\nheaders:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){setInactiveUsers(data);//setLoading(false); plus de loader pour le moment\n}).catch(function(error){return console.error('Error fetching inactive users:',error);});},[]);var handleDragEnd=function handleDragEnd(result){var source=result.source,destination=result.destination;// Vérifiez si l'élément a été déposé en dehors d'une liste valide\nif(!destination){return;}// Vérifiez si l'élément a été déplacé à la même position dans la même liste\nif(source.droppableId===destination.droppableId&&source.index===destination.index){return;}// TODO: Mettez à jour les états pour refléter le déplacement\nif(source.droppableId===\"active\"&&destination.droppableId===\"inactive\"){var movedUser=activeUsers[source.index];setActiveUsers(function(prev){return prev.filter(function(_,index){return index!==source.index;});});setInactiveUsers(function(prev){return[].concat(_toConsumableArray(prev),[movedUser]);});}else if(source.droppableId===\"inactive\"&&destination.droppableId===\"active\"){var _movedUser=inactiveUsers[source.index];setInactiveUsers(function(prev){return prev.filter(function(_,index){return index!==source.index;});});setActiveUsers(function(prev){return[].concat(_toConsumableArray(prev),[_movedUser]);});}};return/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',padding:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,marginRight:'10px'},children:/*#__PURE__*/_jsx(ActiveHumans,{})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,marginLeft:'10px'},children:/*#__PURE__*/_jsx(InactiveHumans,{})})]})});}export default HumanList;","map":{"version":3,"names":["React","useState","useEffect","DragDropContext","ActiveHumans","InactiveHumans","jsx","_jsx","jsxs","_jsxs","HumanList","_useState","_useState2","_slicedToArray","inactiveUsers","setInactiveUsers","_useState3","_useState4","activeUsers","setActiveUsers","fetch","headers","then","response","json","data","setLoading","catch","error","console","handleDragEnd","result","source","destination","droppableId","index","movedUser","prev","filter","_","concat","_toConsumableArray","onDragEnd","children","style","display","justifyContent","padding","flex","marginRight","marginLeft"],"sources":["C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/src/components/humanList.js"],"sourcesContent":["\r\n/*\r\ncomposant affichant la liste du personnel actif ainsi que les inactifs\r\n */\r\nimport React, {useState,useEffect} from 'react';\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\nimport ActiveHumans from './activeHumans';\r\nimport InactiveHumans from './InactiveHumans';\r\n\r\nfunction HumanList() {\r\n\r\n    const [inactiveUsers, setInactiveUsers] = useState([]);\r\n    const [activeUsers, setActiveUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch('/wp-json/booker67/v1/human_ressources_actif', {  // Ajustez l'URL en fonction de votre API\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setActiveUsers(data);\r\n                setLoading(false);\r\n            })\r\n            .catch(error => console.error('Error fetching active users:', error));\r\n    }, []);\r\n    useEffect(() => {\r\n        fetch('/wp-json/booker67/v1/human_ressources_inactif', {  // Ajustez l'URL en fonction de votre API\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setInactiveUsers(data);\r\n                //setLoading(false); plus de loader pour le moment\r\n            })\r\n            .catch(error => console.error('Error fetching inactive users:', error));\r\n    }, []);\r\n    const handleDragEnd = (result) => {\r\n        const { source, destination } = result;\r\n\r\n        // Vérifiez si l'élément a été déposé en dehors d'une liste valide\r\n        if (!destination) {\r\n            return;\r\n        }\r\n\r\n        // Vérifiez si l'élément a été déplacé à la même position dans la même liste\r\n        if (\r\n            source.droppableId === destination.droppableId &&\r\n            source.index === destination.index\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        // TODO: Mettez à jour les états pour refléter le déplacement\r\n\r\n        if (source.droppableId === \"active\" && destination.droppableId === \"inactive\") {\r\n            const movedUser = activeUsers[source.index];\r\n            setActiveUsers(prev => prev.filter((_, index) => index !== source.index));\r\n            setInactiveUsers(prev => [...prev, movedUser]);\r\n        } else if (source.droppableId === \"inactive\" && destination.droppableId === \"active\") {\r\n            const movedUser = inactiveUsers[source.index];\r\n            setInactiveUsers(prev => prev.filter((_, index) => index !== source.index));\r\n            setActiveUsers(prev => [...prev, movedUser]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <DragDropContext onDragEnd={handleDragEnd}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', padding: '10px' }}>\r\n                <div style={{ flex: 1, marginRight: '10px' }}>\r\n                    <ActiveHumans />\r\n                </div>\r\n                <div style={{ flex: 1, marginLeft: '10px' }}>\r\n                    <InactiveHumans />\r\n                </div>\r\n            </div>\r\n        </DragDropContext>\r\n    );\r\n}\r\n\r\nexport default HumanList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}