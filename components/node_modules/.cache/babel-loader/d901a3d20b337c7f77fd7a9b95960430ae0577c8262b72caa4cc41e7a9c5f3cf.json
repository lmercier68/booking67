{"ast":null,"code":"import _objectSpread from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";export function useFetch(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];useEffect(function(){console.log('url useFetch: ',url);fetch(url,_objectSpread(_objectSpread({},options),{},{headers:_objectSpread({'Accept':'application/json; charset : UTF-8'},options.headers)})).then(function(r){return r.json();}).then(function(data){setData(data);}).catch(function(e){console.log('erreurs:',errors);setErrors(e);}).finally(function(){return setLoading(false);});},[]);return{loading:loading,data:data,errors:errors};}","map":{"version":3,"names":["useState","useEffect","useFetch","url","options","arguments","length","undefined","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","errors","setErrors","_useState5","_useState6","data","setData","console","log","fetch","_objectSpread","headers","then","r","json","catch","e","finally"],"sources":["C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/src/hooks/useFetch.js"],"sourcesContent":["import {useState, useEffect} from \"react\"\r\n\r\n\r\nexport function useFetch(url, options = {}) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [errors, setErrors] = useState(null)\r\n    const [data, setData] = useState(null)\r\n\r\n    useEffect(() => {\r\n        console.log('url useFetch: ', url)\r\n        fetch(url, {\r\n            ...options,\r\n            headers: {\r\n                'Accept': 'application/json; charset : UTF-8',\r\n                ...options.headers\r\n            }\r\n        })\r\n            .then(r => r.json())\r\n            .then(data => {\r\n                setData(data)\r\n            })\r\n            .catch((e) => {\r\n                console.log('erreurs:' , errors)\r\n                setErrors(e)\r\n            })\r\n            .finally(() => setLoading(false))\r\n    },[]);\r\n    return { loading, data, errors}\r\n}"],"mappings":"+WAAA,OAAQA,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAGzC,MAAO,SAAS,CAAAC,QAAQA,CAACC,GAAG,CAAgB,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACtC,IAAAG,SAAA,CAA8BR,QAAQ,CAAC,IAAI,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA4Bb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAnCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAwBjB,QAAQ,CAAC,IAAI,CAAC,CAAAkB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IAEpBjB,SAAS,CAAC,UAAM,CACZoB,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEnB,GAAG,CAAC,CAClCoB,KAAK,CAACpB,GAAG,CAAAqB,aAAA,CAAAA,aAAA,IACFpB,OAAO,MACVqB,OAAO,CAAAD,aAAA,EACH,QAAQ,CAAE,mCAAmC,EAC1CpB,OAAO,CAACqB,OAAO,CACrB,EACJ,CAAC,CACGC,IAAI,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACC,IAAI,CAAC,CAAC,GAAC,CACnBF,IAAI,CAAC,SAAAP,IAAI,CAAI,CACVC,OAAO,CAACD,IAAI,CAAC,CACjB,CAAC,CAAC,CACDU,KAAK,CAAC,SAACC,CAAC,CAAK,CACVT,OAAO,CAACC,GAAG,CAAC,UAAU,CAAGP,MAAM,CAAC,CAChCC,SAAS,CAACc,CAAC,CAAC,CAChB,CAAC,CAAC,CACDC,OAAO,CAAC,iBAAM,CAAAnB,UAAU,CAAC,KAAK,CAAC,GAAC,CACzC,CAAC,CAAC,EAAE,CAAC,CACL,MAAO,CAAED,OAAO,CAAPA,OAAO,CAAEQ,IAAI,CAAJA,IAAI,CAAEJ,MAAM,CAANA,MAAM,CAAC,CACnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}