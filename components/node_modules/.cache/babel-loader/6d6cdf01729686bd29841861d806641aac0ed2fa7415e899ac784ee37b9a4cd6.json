{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'@wordpress/element';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HumanRessourcesForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),nom=_useState2[0],setNom=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),prenom=_useState4[0],setPrenom=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),role=_useState6[0],setRole=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),actif=_useState8[0],setActif=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),currentUser=_useState10[0],setCurrentUser=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/wp-json/booker67/v1/human_ressources',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({nom:nom,prenom:prenom,role:role,actif:actif})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(data.success){alert('Utilisateur ajouté avec succès!');setNom('');setPrenom('');setRole('');setActif(true);}else{alert(data.message||'Erreur lors de l’ajout.');}case 7:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();//TODO :verifier que l'user a les permission 'important pour la securité'\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nom\",value:nom,onChange:function onChange(e){return setNom(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Pr\\xE9nom\",value:prenom,onChange:function onChange(e){return setPrenom(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Role\",value:role,onChange:function onChange(e){return setRole(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Actif:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:actif,onChange:function onChange(){return setActif(!actif);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Ajouter\"})]});}export default HumanRessourcesForm;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","HumanRessourcesForm","_useState","_useState2","_slicedToArray","nom","setNom","_useState3","_useState4","prenom","setPrenom","_useState5","_useState6","role","setRole","_useState7","_useState8","actif","setActif","_useState9","_useState10","currentUser","setCurrentUser","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","success","alert","message","stop","apply","arguments","children","type","placeholder","value","onChange","e","target","checked","onClick"],"sources":["C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/src/components/humanRessourcesform.js"],"sourcesContent":["import { useState, useEffect } from '@wordpress/element';\n\nfunction HumanRessourcesForm() {\n\tconst [nom, setNom] = useState('');\n\tconst [prenom, setPrenom] = useState('');\n\tconst [role, setRole] = useState('');\n\tconst [actif, setActif] = useState(true);\n\tconst [currentUser, setCurrentUser] = useState(null);\n\n\n\n\n\n\tconst handleSubmit = async () => {\n\t\tconst response = await fetch('/wp-json/booker67/v1/human_ressources', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tnom,\n\t\t\t\tprenom,\n\t\t\t\trole,\n\t\t\t\tactif,\n\t\t\t}),\n\t\t});\n\n\t\tconst data = await response.json();\n\t\tif (data.success) {\n\t\t\talert('Utilisateur ajouté avec succès!');\n\t\t\tsetNom('');\n\t\t\tsetPrenom('');\n\t\t\tsetRole('');\n\t\t\tsetActif(true);\n\t\t} else {\n\t\t\talert(data.message || 'Erreur lors de l’ajout.');\n\t\t}\n\t};\n\n//TODO :verifier que l'user a les permission 'important pour la securité'\n\n\treturn (\n\t\t<div>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Nom\"\n\t\t\t\tvalue={nom}\n\t\t\t\tonChange={(e) => setNom(e.target.value)}\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Prénom\"\n\t\t\t\tvalue={prenom}\n\t\t\t\tonChange={(e) => setPrenom(e.target.value)}\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Role\"\n\t\t\t\tvalue={role}\n\t\t\t\tonChange={(e) => setRole(e.target.value)}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<label>Actif:</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tchecked={actif}\n\t\t\t\t\tonChange={() => setActif(!actif)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<button onClick={handleSubmit}>Ajouter</button>\n\t\t</div>\n\t);\n}\n\nexport default HumanRessourcesForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}