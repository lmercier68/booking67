{"ast":null,"code":"// URL de base pour les requêtes API\nvar BASE_URL='/wp-json/booker67/v1';/**\r\n * Vérifie si une nouvelle option peut être insérée en fonction de maxAllowed.\r\n *\r\n * @param {string} genericType - Le type générique à vérifier.\r\n * @param {number} maxAllowed - Le nombre maximum d'options de ce type autorisé.\r\n * @return {Promise<boolean>} - Résolu avec true si une nouvelle option peut être insérée, false sinon.\r\n */export function canInsertNewOption(genericType,maxAllowed){var apiUrl=\"\".concat(BASE_URL,\"/options/generic_type_count/\").concat(genericType);return fetch(apiUrl).then(function(response){if(!response.ok){throw new Error('Erreur réseau lors de la tentative de récupération des données.');}return response.json();}).then(function(data){if(data.count<maxAllowed){return true;}return false;}).catch(function(error){console.error('Il y a eu un problème avec l\\'opération fetch:',error.message);return false;});}","map":{"version":3,"names":["BASE_URL","canInsertNewOption","genericType","maxAllowed","apiUrl","concat","fetch","then","response","ok","Error","json","data","count","catch","error","console","message"],"sources":["C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/src/components/scripts/genericAllow.js"],"sourcesContent":["// URL de base pour les requêtes API\r\nconst BASE_URL = '/wp-json/booker67/v1';\r\n\r\n/**\r\n * Vérifie si une nouvelle option peut être insérée en fonction de maxAllowed.\r\n *\r\n * @param {string} genericType - Le type générique à vérifier.\r\n * @param {number} maxAllowed - Le nombre maximum d'options de ce type autorisé.\r\n * @return {Promise<boolean>} - Résolu avec true si une nouvelle option peut être insérée, false sinon.\r\n */\r\nexport function canInsertNewOption(genericType, maxAllowed) {\r\n    const apiUrl = `${BASE_URL}/options/generic_type_count/${genericType}`;\r\n\r\n    return fetch(apiUrl)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error('Erreur réseau lors de la tentative de récupération des données.');\r\n            }\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            if (data.count < maxAllowed) {\r\n                return true;\r\n            }\r\n            return false;\r\n        })\r\n        .catch(error => {\r\n            console.error('Il y a eu un problème avec l\\'opération fetch:', error.message);\r\n            return false;\r\n        });\r\n}\r\n"],"mappings":"AAAA;AACA,GAAM,CAAAA,QAAQ,CAAG,sBAAsB,CAEvC;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,kBAAkBA,CAACC,WAAW,CAAEC,UAAU,CAAE,CACxD,GAAM,CAAAC,MAAM,IAAAC,MAAA,CAAML,QAAQ,iCAAAK,MAAA,CAA+BH,WAAW,CAAE,CAEtE,MAAO,CAAAI,KAAK,CAACF,MAAM,CAAC,CACfG,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACd,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,iEAAiE,CAAC,CACtF,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CACDJ,IAAI,CAAC,SAAAK,IAAI,CAAI,CACV,GAAIA,IAAI,CAACC,KAAK,CAAGV,UAAU,CAAE,CACzB,MAAO,KAAI,CACf,CACA,MAAO,MAAK,CAChB,CAAC,CAAC,CACDW,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZC,OAAO,CAACD,KAAK,CAAC,gDAAgD,CAAEA,KAAK,CAACE,OAAO,CAAC,CAC9E,MAAO,MAAK,CAChB,CAAC,CAAC,CACV"},"metadata":{},"sourceType":"module","externalDependencies":[]}