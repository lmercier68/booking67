{"ast":null,"code":"import _toConsumableArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback}from'react';import'./css/EmailComposer.css';import ImageUploader from'./ImageUploader';import ImageCarousselEmail from'./ImageCarousselEmail';// Composant pour la prévisualisation de l'e-mail\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmailPreview=function EmailPreview(_ref){var subject=_ref.subject,body=_ref.body;// Convertit le corps du texte en HTML en toute sécurité\nvar createMarkup=function createMarkup(htmlString){return{__html:htmlString};};return/*#__PURE__*/_jsxs(\"div\",{className:\"email-preview\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Pr\\xE9visualisation de l'Email\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Objet: \",subject]}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:createMarkup(body)})]});};// Composant principal pour la rédaction de l'e-mail\n// EmailComposer.js\nvar EmailComposer=function EmailComposer(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),subject=_useState2[0],setSubject=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),images=_useState6[0],setImages=_useState6[1];// Cette fonction sera appelée après un upload réussi\nvar handleNewImage=function handleNewImage(newImage){setImages([].concat(_toConsumableArray(images),[newImage]));};var handleImageSelect=function handleImageSelect(image){var imageHtml=\"<img src=\\\"\".concat(image.url,\"\\\" alt=\\\"\").concat(image.alt,\"\\\" />\");setBody(body+imageHtml);};var handleDrop=useCallback(function(e){e.preventDefault();var imageUrl=e.dataTransfer.getData('text/plain');setBody(body+\"<img src=\\\"\".concat(imageUrl,\"\\\" alt=\\\"Image\\\" />\"));},[body]);return/*#__PURE__*/_jsxs(\"div\",{className:\"email-composer\",onDrop:handleDrop,onDragOver:function onDragOver(e){return e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Objet du mail\",value:subject,onChange:function onChange(e){return setSubject(e.target.value);}}),/*#__PURE__*/_jsx(ImageCarousselEmail,{onImageSelect:handleImageSelect,onImageDrop:handleDrop}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Corps du mail\",value:body,onChange:function onChange(e){return setBody(e.target.value);}})]}),/*#__PURE__*/_jsx(ImageCarousselEmail,{images:images,onImageSelect:handleImageSelect}),/*#__PURE__*/_jsx(ImageUploader,{onImageSelect:handleImageSelect,onNewImage:handleNewImage})]});};export default EmailComposer;","map":{"version":3,"names":["React","useState","useCallback","ImageUploader","ImageCarousselEmail","jsx","_jsx","jsxs","_jsxs","EmailPreview","_ref","subject","body","createMarkup","htmlString","__html","className","children","dangerouslySetInnerHTML","EmailComposer","_useState","_useState2","_slicedToArray","setSubject","_useState3","_useState4","setBody","_useState5","_useState6","images","setImages","handleNewImage","newImage","concat","_toConsumableArray","handleImageSelect","image","imageHtml","url","alt","handleDrop","e","preventDefault","imageUrl","dataTransfer","getData","onDrop","onDragOver","type","placeholder","value","onChange","target","onImageSelect","onImageDrop","onNewImage"],"sources":["C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/src/components/EmailComposer.js"],"sourcesContent":["import React, { useState,useCallback } from 'react';\r\nimport './css/EmailComposer.css'\r\nimport ImageUploader from './ImageUploader';\r\nimport ImageCarousselEmail from './ImageCarousselEmail';\r\n// Composant pour la prévisualisation de l'e-mail\r\nconst EmailPreview = ({ subject, body }) => {\r\n    // Convertit le corps du texte en HTML en toute sécurité\r\n    const createMarkup = htmlString => ({ __html: htmlString });\r\n\r\n    return (\r\n        <div className=\"email-preview\">\r\n            <h2>Prévisualisation de l'Email</h2>\r\n            <h3>Objet: {subject}</h3>\r\n            <div dangerouslySetInnerHTML={createMarkup(body)} />\r\n        </div>\r\n    );\r\n};\r\n\r\n// Composant principal pour la rédaction de l'e-mail\r\n// EmailComposer.js\r\n\r\n\r\n\r\nconst EmailComposer = () => {\r\n    const [subject, setSubject] = useState('');\r\n    const [body, setBody] = useState('');\r\n    const [images, setImages] = useState([]);\r\n\r\n    // Cette fonction sera appelée après un upload réussi\r\n    const handleNewImage = (newImage) => {\r\n        setImages([...images, newImage]);\r\n    };\r\n    const handleImageSelect = (image) => {\r\n        const imageHtml = `<img src=\"${image.url}\" alt=\"${image.alt}\" />`;\r\n        setBody(body + imageHtml);\r\n    };\r\n    const handleDrop = useCallback((e) => {\r\n        e.preventDefault();\r\n        const imageUrl = e.dataTransfer.getData('text/plain');\r\n        setBody(body + `<img src=\"${imageUrl}\" alt=\"Image\" />`);\r\n    }, [body]);\r\n    return (\r\n        <div className=\"email-composer\" onDrop={handleDrop} onDragOver={(e) => e.preventDefault()}>\r\n            <div className=\"email-form\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Objet du mail\"\r\n                    value={subject}\r\n                    onChange={(e) => setSubject(e.target.value)}\r\n                />\r\n\r\n                    {/* ...autres champs de saisie... */}\r\n\r\n                <ImageCarousselEmail onImageSelect={handleImageSelect} onImageDrop={handleDrop} />\r\n                <textarea\r\n                    placeholder=\"Corps du mail\"\r\n                    value={body}\r\n                    onChange={(e) => setBody(e.target.value)}\r\n                />\r\n            </div>\r\n            <ImageCarousselEmail images={images} onImageSelect={handleImageSelect} />\r\n            <ImageUploader onImageSelect={handleImageSelect} onNewImage={handleNewImage} />\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EmailComposer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}