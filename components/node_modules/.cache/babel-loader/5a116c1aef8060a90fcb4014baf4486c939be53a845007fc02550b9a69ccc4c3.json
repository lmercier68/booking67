{"ast":null,"code":"import _objectSpread from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Slider from'react-slick';// ou une autre bibliothèque de carrousel\nimport{jsx as _jsx}from\"react/jsx-runtime\";var ImageCarousselEmail=function ImageCarousselEmail(_ref){var onImageSelect=_ref.onImageSelect,onImageDrop=_ref.onImageDrop;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];useEffect(function(){// Fonction pour charger les images depuis le serveur\nvar fetchImages=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,imageData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/wp-json/booking67/v1/get-images');case 2:response=_context.sent;_context.next=5;return response.json();case 5:imageData=_context.sent;setImages(imageData);case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchImages(){return _ref2.apply(this,arguments);};}();fetchImages();},[]);var settings={// ...les réglages de votre carrousel (react-slick ou autre)\n};return/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{children:images.map(function(image){return/*#__PURE__*/_jsx(\"div\",{draggable:true,onDragStart:function onDragStart(e){// Définissez l'URL de l'image pour le transfert\ne.dataTransfer.setData('text/plain',image.url);onImageSelect(image);},onDragEnd:onImageDrop// Vous pourriez avoir besoin d'ajuster cette partie en fonction de votre logique\n,children:/*#__PURE__*/_jsx(\"img\",{src:image.thumbnail_url,alt:image.alt_text})},image.id);})}));};export default ImageCarousselEmail;","map":{"version":3,"names":["React","useState","useEffect","Slider","jsx","_jsx","ImageCarousselEmail","_ref","onImageSelect","onImageDrop","_useState","_useState2","_slicedToArray","images","setImages","fetchImages","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","imageData","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","apply","arguments","settings","_objectSpread","children","map","image","draggable","onDragStart","e","dataTransfer","setData","url","onDragEnd","src","thumbnail_url","alt","alt_text","id"],"sources":["C:/Users/merci/Local Sites/wordpress-react-test/app/public/wp-content/plugins/booking67/components/src/components/ImageCarousselEmail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Slider from 'react-slick'; // ou une autre bibliothèque de carrousel\r\n\r\nconst ImageCarousselEmail = ({ onImageSelect, onImageDrop }) => {\r\n    const [images, setImages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // Fonction pour charger les images depuis le serveur\r\n        const fetchImages = async () => {\r\n            const response = await fetch('/wp-json/booking67/v1/get-images');\r\n            const imageData = await response.json();\r\n            setImages(imageData);\r\n        };\r\n\r\n        fetchImages();\r\n    }, []);\r\n\r\n    const settings = {\r\n        // ...les réglages de votre carrousel (react-slick ou autre)\r\n    };\r\n\r\n    return (\r\n        <Slider {...settings}>\r\n            {images.map((image) => (\r\n                <div\r\n                    key={image.id}\r\n                    draggable\r\n                    onDragStart={(e) => {\r\n                        // Définissez l'URL de l'image pour le transfert\r\n                        e.dataTransfer.setData('text/plain', image.url);\r\n                        onImageSelect(image);\r\n                    }}\r\n                    onDragEnd={onImageDrop} // Vous pourriez avoir besoin d'ajuster cette partie en fonction de votre logique\r\n                >\r\n                    <img src={image.thumbnail_url} alt={image.alt_text} />\r\n                </div>\r\n            ))}\r\n        </Slider>\r\n    );\r\n};\r\n\r\nexport default ImageCarousselEmail;\r\n"],"mappings":"+uBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,aAAa,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAElC,GAAM,CAAAC,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAuC,IAAjC,CAAAC,aAAa,CAAAD,IAAA,CAAbC,aAAa,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CACrD,IAAAC,SAAA,CAA4BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExBT,SAAS,CAAC,UAAM,CACZ;AACA,GAAM,CAAAa,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,SAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACO,CAAAC,KAAK,CAAC,kCAAkC,CAAC,QAA1DP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACU,CAAAN,QAAQ,CAACS,IAAI,CAAC,CAAC,QAAjCR,SAAS,CAAAG,QAAA,CAAAI,IAAA,CACff,SAAS,CAACQ,SAAS,CAAC,CAAC,wBAAAG,QAAA,CAAAM,IAAA,MAAAX,OAAA,GACxB,kBAJK,CAAAL,WAAWA,CAAA,SAAAC,KAAA,CAAAgB,KAAA,MAAAC,SAAA,OAIhB,CAEDlB,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAmB,QAAQ,CAAG,CACb;AAAA,CACH,CAED,mBACI7B,IAAA,CAACF,MAAM,CAAAgC,aAAA,CAAAA,aAAA,IAAKD,QAAQ,MAAAE,QAAA,CACfvB,MAAM,CAACwB,GAAG,CAAC,SAACC,KAAK,qBACdjC,IAAA,QAEIkC,SAAS,MACTC,WAAW,CAAE,SAAAA,YAACC,CAAC,CAAK,CAChB;AACAA,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEL,KAAK,CAACM,GAAG,CAAC,CAC/CpC,aAAa,CAAC8B,KAAK,CAAC,CACxB,CAAE,CACFO,SAAS,CAAEpC,WAAa;AAAA,CAAA2B,QAAA,cAExB/B,IAAA,QAAKyC,GAAG,CAAER,KAAK,CAACS,aAAc,CAACC,GAAG,CAAEV,KAAK,CAACW,QAAS,CAAE,CAAC,EATjDX,KAAK,CAACY,EAUV,CAAC,EACT,CAAC,EACE,CAAC,CAEjB,CAAC,CAED,cAAe,CAAA5C,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}