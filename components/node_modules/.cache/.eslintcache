[{"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\index.js":"1","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\App.js":"2","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\reportWebVitals.js":"3","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\weeklyPlanner.js":"4","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\SelectionContext.js":"5","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanactiflist.js":"6","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\planner_line.js":"7","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanRessourcesform.js":"8"},{"size":651,"mtime":1698489433881,"results":"9","hashOfConfig":"10"},{"size":689,"mtime":1698488323435,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1698379121563,"results":"12","hashOfConfig":"10"},{"size":5468,"mtime":1698428641697,"results":"13","hashOfConfig":"10"},{"size":2264,"mtime":1698379806456,"results":"14","hashOfConfig":"10"},{"size":962,"mtime":1698379777186,"results":"15","hashOfConfig":"10"},{"size":6173,"mtime":1698428641691,"results":"16","hashOfConfig":"10"},{"size":1521,"mtime":1698487424801,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"6rrt40",{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\index.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\App.js",["47"],[],"\nimport './App.css';\nimport { SelectionProvider, SelectionContext } from './components/scripts/SelectionContext';\n\nimport WeeklyPlanner from './components/weeklyPlanner';\nimport HumanRessourcesform from \"./components/humanRessourcesform\";\nfunction App({ page }) {\n    console.log('App executed, page:', page);\n    if (page === 'main') {\n        return <HumanRessourcesform/>;\n    } else if (page === 'disponibilites') {\n        console.log('disponibilities page')\n        return (<SelectionProvider>\n            <WeeklyPlanner />\n        </SelectionProvider>);\n    } else if (page === 'personnel') {\n        return <HumanRessourcesform />;\n    }\n\n    return null;\n}\n\n\nexport default App;\n\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\reportWebVitals.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\weeklyPlanner.js",["48","49"],[],"\n\n/* global wpApiSettings */\nimport { useState,useContext } from 'react';\nimport PlannerLine from './planner_line';\nimport HumanRessourcesActifSelect from './humanactiflist';\n//import { Spinner } from 'react-bootstrap/Spinner';\nimport { SelectionProvider, SelectionContext } from './scripts/SelectionContext';\n\nfunction WeeklyPlanner() {\n\tconst daysOfWeek = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'];\n\tconst { loading, availabilities,selectedValue } = useContext(SelectionContext);\n\tconst [isModified, setIsModified] = useState(false);\n\tconst [weekData, setWeekData] = useState({});\n\tconst longestDay = daysOfWeek.reduce((longest, day) => day.length > longest.length ? day : longest, '');\n\n\n\tconst { handleNewAvail } = useContext(SelectionContext);\n\n\tconst dayStyle = {\n\t\tminWidth: `${longestDay.length}ch`,\n\t\tdisplay: 'inline-block'\n\t};\n\n\tconst handleInputChange = ({ value, index, day }) => {\n\t\tconsole.log('handleInputChange-weekly', { value, index, day });  // Log ici\n\n\t\tconsole.log(`On day ${day}, Input at index ${index} has values:`, value);\n\t\tconsole.log('valueId-weeklyplan: ', value.id);\n\t\tsetIsModified(true);\n\n\n\t\t// Transformez les données en un format approprié pour availabilities\n\t\tconst formattedData = {\n\n\t\t\tday,\n\t\t\tindex,\n\t\t\topening_time: value.start,\n\t\t\tclosing_time: value.end,\n\t\t\tid: value.id\n\t\t};\n\t\tconsole.log('valueId: ',value.id)\n\t\tconst postData = {\n\t\t\tid: value.id,\n\t\t\tpractician_id: selectedValue,  // remplacez par l'ID du praticien\n\t\t\tday_name: day,\n\t\t\topening_time: value.start,\n\t\t\tclosing_time: value.end\n\t\t};\nconsole.log('postData: ', postData);\n\t\t// Déterminez l'URL et la méthode basées sur si l'id est défini\n\t\tconst url = value.id ? `/wp-json/booker67/v1/availability/${value.id}` : '/wp-json/booker67/v1/availability';\n\t\tconst method = value.id? 'PUT' : 'POST';\n\n\t\t// Envoyer une requête à la route /availability pour sauver ou mettre à jour le créneau\n\t\tfetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-WP-Nonce': wpApiSettings.nonce  // nonce pour l'authentification\n\t\t\t},\n\t\t\tbody: JSON.stringify(postData)\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconsole.log('Response:', data);  // Log la réponse\n\t\t\t\t//on recupere les créneaux mis a jours\n\n\t\t\t\thandleNewAvail(selectedValue);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t});\n\n\t\tsetWeekData(prevData => {\n\n\t\t\tconst updatedDayData = prevData[day] ? [...prevData[day]] : [];\n\n\t\t\tupdatedDayData[index] = formattedData;\n\n\t\t\tconst newData = { ...prevData, [day]: updatedDayData };  // Modifiez cette ligne\n\n\t\t\treturn newData;  // Modifiez cette ligne\n\n\t\t});\n\t};\n\tconst handleSave = () => {\n\t\t// Supposons que votre état ait une structure comme celle-ci :\n\t\t// const [availabilities, setAvailabilities] = useState({\n\t\t//     Lundi: [{ opening_time: '09:00', closing_time: '17:00' }, ...],\n\t\t//     Mardi: [{ opening_time: '09:00', closing_time: '17:00' }, ...],\n\t\t//     ...\n\t\t// });\n\n\t\tif (typeof availabilities !== 'object' || !availabilities) {\n\t\t\tconsole.log('availabilities', availabilities);\n\t\t\tconsole.error('availabilities is not an object:', availabilities);\n\t\t\treturn;\n\t\t}\n\t\tconsole.log('availabilities', availabilities);\n\t\tconst formattedData = Object.entries(availabilities).map(([day, slots]) => {\n\t\t\tif (!Array.isArray(slots)) {\n\t\t\t\tconsole.error('slots is not an array for day', day, ':', slots);\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn slots.map(slot => ({\n\t\t\t\tpractician_id: 1,  // Remplacez par l'ID réel du praticien\n\t\t\t\tday_name: day,\n\t\t\t\t...slot\n\t\t\t}));\n\t\t}).flat();\n\n\t\t// Envoyer les données à l'API\n\t\tfetch('/wp-json/booker67/v1/availability', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t// Vous pourriez avoir besoin d'ajouter un en-tête d'autorisation ici si votre API le requiert\n\t\t\t},\n\t\t\tbody: JSON.stringify(formattedData)\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\t// Si la réponse n'est pas ok (status code 2xx), rejeter la promesse\n\t\t\t\t\treturn Promise.reject('Failed to save');\n\t\t\t\t}\n\t\t\t\treturn response.json();  // Sinon, retourner la réponse JSON\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tconsole.log(data.message);  // Log le message de succès\n\t\t\t\tsetIsModified(false);  // Réinitialiser l'état isModified\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t});\n\t};\n\n\treturn (\n\n\t\t<div>\n\n\t\t\t<div style={loading ? { pointerEvents: 'none', opacity: 0.5 } : {}}>\n\t\t\t\t\t<HumanRessourcesActifSelect />\n\t\t\t\t{daysOfWeek.map(day => {\n\t\t\t\t\tconst filteredAvailabilities = availabilities ? availabilities.filter(avail => avail.day_name === day) : [];\n\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={day}>  {/* Encapsulez PlannerLine et <hr /> dans une <div> */}\n\t\t\t\t\t\t\t<PlannerLine\n\t\t\t\t\t\t\t\tday_name={day}\n\t\t\t\t\t\t\t\tdayStyle={dayStyle}\n\t\t\t\t\t\t\t\tavailabilityId={filteredAvailabilities.id}\n\t\t\t\t\t\t\t\tavailabilities={filteredAvailabilities}\n\t\t\t\t\t\t\t\tonChange={(value, index, type,day) => handleInputChange(value, index, day)}\n\t\t\t\t\t\t\t\tsetIsModified={setIsModified}  // Passer setIsModified en tant que prop\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t <hr />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\n\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: isModified ? 'orange' : 'mediumblue',\n\t\t\t\t\tcolor: 'white',\n\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\tpadding: '10px',\n\t\t\t\t\tborder: 'none',\n\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t}}\n\t\t\t\tdisabled={!isModified}\n\t\t\t\tonClick={handleSave}\n\t\t\t>\n\t\t\t\tSave\n\t\t\t</button>\n\t\t</div>\n\n\t);\n}\n\nexport default WeeklyPlanner;\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\SelectionContext.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanactiflist.js",["50"],[],"// fichier humanactifList.js\nimport { useState, useContext,useEffect } from 'react';\nimport { SelectionContext } from './scripts/SelectionContext';\n\nfunction HumanRessourcesActifSelect() {\n\tconst { handleHumanRessourceChange } = useContext(SelectionContext);  // Accédez à handleHumanRessourceChange depuis le contexte\n\n\tconst [data, setData] = useState([]);\n\n\tuseEffect(() => {\n\t\tfetch('/wp-json/booker67/v1/human_ressources_actif')\n\t\t\t.then(response => response.json())\n\t\t\t.then(result => {\n\n\t\t\t\tsetData(result);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<select id=\"humanRessourceSelect\" onChange={handleHumanRessourceChange}>  // Utilisez handleHumanRessourceChange comme gestionnaire d'événements\n\t\t\t\t<option value=\"0\">Choisir un praticien</option>\n\t\t\t\t{data.map(item => (\n\t\t\t\t\t<option key={item.id} value={item.id}>\n\t\t\t\t\t\t{item.nom} {item.prenom} - {item.role}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t</div>\n\t);\n}\n\nexport default HumanRessourcesActifSelect;\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\planner_line.js",["51"],[],"\n/* global wpApiSettings */\nimport { useState, useEffect, useContext  } from 'react';\nimport {SelectionContext, SelectionProvider} from './scripts/SelectionContext';\nimport { Button } from 'react-bootstrap';\nfunction PlannerLine({ day_name = \"Day\", onChange, dayStyle, availabilities = [], setIsModified ,availabilityId}) {\n\n\n\tconst { selectedValue } = useContext(SelectionContext);\n\tconst isDisabled = selectedValue === '0';\n\tconst [isActive, setIsActive] = useState(false);\n\tconst [inputValues, setInputValues] = useState([]);\n\tconst [hasAlerted, setHasAlerted] = useState(false);\n\tconst [shouldValidate, setShouldValidate] = useState(false);\n\n\n\tconst handleButtonClick = () => {\n\t\tsetInputValues([...inputValues, { start: \"\", end: \"\" }]);\n\t};\n\n\n\tconst handleInputChange = (e, index, type) => {\n\t\tconst newValue = e.target.value;\n\t\tconsole.log('handleInputChange-plaanerline:', newValue, index, type);\n\n\t\tconst updatedValues = [...inputValues];\n\t\tupdatedValues[index][type] = newValue;\n\t\tsetInputValues(updatedValues);\n\n\t\t//onChange({value: newValue, index, type, day: day_name});\n\t};\n\n\tconst handleInputBlur = (e, index, type) => {\n\t\tconst newValue = e.target.value;\n\t\t//console.log('handleInputBlur:', newValue, index, type);\n\t\tconst updatedValues = [...inputValues];\n\n//console.log('avail_id : ', availabilityId)\n\t\tupdatedValues[index][type] = newValue;\n\n\t\tsetInputValues(updatedValues);\n\n\n\t\t// Utilisez la regex pour valider le format de l'heure\n\t\tconst timePattern = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;\n\n\t\t// Verifiez si les deux entrées sont valides\n\t\tconst isValidStart = timePattern.test(updatedValues[index].start);\n\t\tconst isValidEnd = timePattern.test(updatedValues[index].end);\n\n\t\t// Mettez à jour l'état isModified seulement si les deux entrées sont valides\n\t\tif (isValidStart && isValidEnd) {\n\n\t\t\t// Si les deux valeurs sont valides, alors remontez les données\n\t\t\tconsole.log('valeur envoyée a onChnge', {value: updatedValues[index], index, day: day_name})\n\t\t\tonChange({\n\t\t\t\tvalue: {\n\t\t\t\t\tstart: updatedValues[index].start,\n\t\t\t\t\tend: updatedValues[index].end,\n\t\t\t\t\tid: updatedValues[index].id,\n\t\t\t\t},\n\n\t\t\t\tindex,\n\t\t\t\tday: day_name\n\t\t\t});  // Modifié ici\n\t\t}\n\n\t\tsetShouldValidate(true);\n\t};\n\t// Dans le composant PlannerLine\n\tconst handleDelete = (index) => {\n\t\tconst idToDelete = inputValues[index].id;\n\t\tif (!idToDelete) {\n\t\t\tconsole.error('ID non trouvé, impossible de supprimer.');\n\t\t\treturn;\n\t\t}\n\n\t\tfetch(`/wp-json/booker67/v1/availability/${idToDelete}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-WP-Nonce': wpApiSettings.nonce  // nonce pour l'authentification\n\t\t\t},\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconsole.log('Suppression réussie:', data);\n\t\t\t\t// Mettez à jour l'état pour refléter la suppression\n\t\t\t\tsetInputValues(prevValues => prevValues.filter((_, idx) => idx !== index));\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Erreur:', error);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (shouldValidate) {\n\t\t\tconst timePattern = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;\n\t\t\tfor (let inputValue of inputValues) {\n\t\t\t\t// Si l'un des champs est vide, ignorez la validation\n\t\t\t\tif (inputValue.start === \"\" || inputValue.end === \"\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!timePattern.test(inputValue.start) || !timePattern.test(inputValue.end)) {\n\t\t\t\t\tif (!hasAlerted) {\n\t\t\t\t\t\talert(\"Veuillez saisir une heure au format hh:mm\");\n\t\t\t\t\t\tsetHasAlerted(true);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetShouldValidate(false);\n\t\t}\n\t}, [shouldValidate, inputValues, hasAlerted]);\n\n\tuseEffect(() => {\n\n\t\t//console.log('Running useEffect with availabilities:', availabilities);  // Ajouté\n\t\t//console.log('inputvalues: ',inputValues)\n\t\tlet availValues;\n\t\tif (availabilities && availabilities.length > 0) {  // Assurez-vous que availabilities est défini\n\t\t\t//console.log('ava 2 : ' , availabilities);\n\t\t\tavailValues = availabilities.map(avail => ({ start: avail.opening_time.slice(0, 5), end: avail.closing_time.slice(0, 5),id: avail.id}));\n\t\t\tsetIsActive(true);  // Si des disponibilités sont présentes, mettez isActive à true\n\t\t} else {\n\t\t\tavailValues = [{ start: \"\", end: \"\" ,id:undefined}];\n\t\t\tsetIsActive(false);  // Si aucune disponibilité n'est présente, mettez isActive à false\n\t\t}\n\t\tsetInputValues(availValues);\n\t\t//console.log('availValue: ',availValues);\n\t}, [availabilities]);\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row align-items-center\">\n\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\tchecked={isActive}\n\t\t\t\t\t\tonChange={() => setIsActive(!isActive)}\n\t\t\t\t\t\tdisabled={isDisabled}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t<label className=\"form-label\" style={{ ...dayStyle }}>{day_name}</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\n\t\t\t\t\t{inputValues.map((inputGroup, idx) => (\n\n\t\t\t\t\t\t<div key={idx} className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t<label className=\"form-label\">De</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tvalue={inputGroup.start}\n\t\t\t\t\t\t\t\tdisabled={!isActive || isDisabled}\n\t\t\t\t\t\t\t\tplaceholder=\"hh:mm\"\n\t\t\t\t\t\t\t\tstyle={{ marginTop: idx === 0 ? 0 : '5px' }}\n\t\t\t\t\t\t\t\tonChange={e => handleInputChange(e, idx, 'start')}\n\t\t\t\t\t\t\t\tonBlur={e => handleInputBlur(e, idx, 'start')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className=\"form-label\">  A</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ms-2\"\n\t\t\t\t\t\t\t\tvalue={inputGroup.end}\n\t\t\t\t\t\t\t\tdisabled={!isActive || isDisabled}\n\t\t\t\t\t\t\t\tplaceholder=\"hh:mm\"\n\t\t\t\t\t\t\t\tstyle={{ marginTop: idx === 0 ? 0 : '5px' }}\n\t\t\t\t\t\t\t\tonChange={e => handleInputChange(e, idx, 'end')}\n\t\t\t\t\t\t\t\tonBlur={e => handleInputBlur(e, idx, 'end')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{inputGroup.start && inputGroup.end && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger ms-2\"\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(idx)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={handleButtonClick}\n\t\t\t\t\t\t\t\tdisabled={!isActive || isDisabled}\n\t\t\t\t\t\t\t\tclassName=\"btn btn-primary ms-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PlannerLine;\n\n\n\n\n\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanRessourcesform.js",["52","53","54"],[],"import { useState, useEffect } from 'react';\n\nfunction HumanRessourcesForm() {\n\tconst [nom, setNom] = useState('');\n\tconst [prenom, setPrenom] = useState('');\n\tconst [role, setRole] = useState('');\n\tconst [actif, setActif] = useState(true);\n\tconst [currentUser, setCurrentUser] = useState(null);\n\n\n\n\n\n\tconst handleSubmit = async () => {\n\t\tconst response = await fetch('/wp-json/booker67/v1/human_ressources', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tnom,\n\t\t\t\tprenom,\n\t\t\t\trole,\n\t\t\t\tactif,\n\t\t\t}),\n\t\t});\n\n\t\tconst data = await response.json();\n\t\tif (data.success) {\n\t\t\talert('Utilisateur ajouté avec succès!');\n\t\t\tsetNom('');\n\t\t\tsetPrenom('');\n\t\t\tsetRole('');\n\t\t\tsetActif(true);\n\t\t} else {\n\t\t\talert(data.message || 'Erreur lors de l’ajout.');\n\t\t}\n\t};\n\n//TODO :verifier que l'user a les permission 'important pour la securité'\n\n\treturn (\n\t\t<div>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Nom\"\n\t\t\t\tvalue={nom}\n\t\t\t\tonChange={(e) => setNom(e.target.value)}\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Prénom\"\n\t\t\t\tvalue={prenom}\n\t\t\t\tonChange={(e) => setPrenom(e.target.value)}\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Role\"\n\t\t\t\tvalue={role}\n\t\t\t\tonChange={(e) => setRole(e.target.value)}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<label>Actif:</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tchecked={actif}\n\t\t\t\t\tonChange={() => setActif(!actif)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<button onClick={handleSubmit}>Ajouter</button>\n\t\t</div>\n\t);\n}\n\nexport default HumanRessourcesForm;\n",{"ruleId":"55","severity":1,"message":"56","line":3,"column":29,"nodeType":"57","messageId":"58","endLine":3,"endColumn":45},{"ruleId":"55","severity":1,"message":"59","line":8,"column":10,"nodeType":"57","messageId":"58","endLine":8,"endColumn":27},{"ruleId":"55","severity":1,"message":"60","line":14,"column":9,"nodeType":"57","messageId":"58","endLine":14,"endColumn":17},{"ruleId":"61","severity":1,"message":"62","line":21,"column":76,"nodeType":"63","messageId":"64","endLine":22,"endColumn":5},{"ruleId":"55","severity":1,"message":"59","line":4,"column":27,"nodeType":"57","messageId":"58","endLine":4,"endColumn":44},{"ruleId":"55","severity":1,"message":"65","line":1,"column":20,"nodeType":"57","messageId":"58","endLine":1,"endColumn":29},{"ruleId":"55","severity":1,"message":"66","line":8,"column":9,"nodeType":"57","messageId":"58","endLine":8,"endColumn":20},{"ruleId":"55","severity":1,"message":"67","line":8,"column":22,"nodeType":"57","messageId":"58","endLine":8,"endColumn":36},"no-unused-vars","'SelectionContext' is defined but never used.","Identifier","unusedVar","'SelectionProvider' is defined but never used.","'weekData' is assigned a value but never used.","react/jsx-no-comment-textnodes","Comments inside children section of tag should be placed inside braces","JSXText","putCommentInBraces","'useEffect' is defined but never used.","'currentUser' is assigned a value but never used.","'setCurrentUser' is assigned a value but never used."]