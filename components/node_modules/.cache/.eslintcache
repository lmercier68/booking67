[{"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\index.js":"1","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\App.js":"2","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\reportWebVitals.js":"3","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\weeklyPlanner.js":"4","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\SelectionContext.js":"5","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanactiflist.js":"6","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\planner_line.js":"7","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanRessourcesform.js":"8","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanList.js":"9","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanActiflist.js":"10","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\activeHumans.js":"11","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\InactiveHumans.js":"12","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\GenericOptionsAdder.js":"13","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\genericAllow.js":"14","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\PrestationForm.js":"15","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\HumanActiflist.js":"16","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\EditPrestationModal.js":"17","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\OptionsComponent.js":"18","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\fetchOptions.js":"19","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\AppointmentsDisplayer.js":"20","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\Booking67_Appointment.js":"21","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\hooks\\useFetch.js":"22"},{"size":1384,"mtime":1698595417064,"results":"23","hashOfConfig":"24"},{"size":1050,"mtime":1700493692031,"results":"25","hashOfConfig":"24"},{"size":362,"mtime":1698379121563,"results":"26","hashOfConfig":"24"},{"size":6857,"mtime":1700483615275,"results":"27","hashOfConfig":"24"},{"size":2318,"mtime":1700483615517,"results":"28","hashOfConfig":"24"},{"size":962,"mtime":1698379777186,"results":"29","hashOfConfig":"30"},{"size":6174,"mtime":1700483615146,"results":"31","hashOfConfig":"24"},{"size":1692,"mtime":1700483615919,"results":"32","hashOfConfig":"24"},{"size":4395,"mtime":1700483615804,"results":"33","hashOfConfig":"24"},{"size":963,"mtime":1700483615340,"results":"34","hashOfConfig":"24"},{"size":2020,"mtime":1700483615463,"results":"35","hashOfConfig":"24"},{"size":2038,"mtime":1700483615380,"results":"36","hashOfConfig":"24"},{"size":2518,"mtime":1700483615189,"results":"37","hashOfConfig":"24"},{"size":1159,"mtime":1700483615913,"results":"38","hashOfConfig":"24"},{"size":10216,"mtime":1700483615334,"results":"39","hashOfConfig":"24"},{"size":963,"mtime":1700483615340,"results":"40","hashOfConfig":"24"},{"size":2695,"mtime":1698729691737,"results":"41","hashOfConfig":"24"},{"size":5744,"mtime":1700483615431,"results":"42","hashOfConfig":"24"},{"size":720,"mtime":1700483616197,"results":"43","hashOfConfig":"24"},{"size":4983,"mtime":1701001885053,"results":"44","hashOfConfig":"24"},{"size":3973,"mtime":1701000653894,"results":"45","hashOfConfig":"24"},{"size":836,"mtime":1700991139117,"results":"46","hashOfConfig":"24"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},"691zwt",{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},"6rrt40",{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72"},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83"},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87"},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83"},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110"},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117"},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121"},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125"},"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\index.js",["126"],[],"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n//const root = ReactDOM.createRoot(document.getElementById('root'));\n//const rootElement = document.getElementById('root');\n//const page = rootElement.getAttribute('data-page');\n//const rootElement = document.querySelector('[data-page]');\n\n\nconst rootElement = document.getElementById('root-prestations') || document.getElementById('root-test') || document.querySelector('[data-page]');\nconst root = ReactDOM.createRoot(rootElement);\n\nconst page = rootElement.getAttribute('data-page');\nconsole.log(page);\nconsole.log(rootElement);\n/*\nroot.render(\n  <React.StrictMode>\n    <App page={page}>{page}</App>\n  </React.StrictMode>\n);\n*/\nif (rootElement) {\n    const root = ReactDOM.createRoot(rootElement);\n    const page = rootElement.getAttribute('data-page');\n    console.log(page);\n    console.log(rootElement);\n\n    root.render(\n        <React.StrictMode>\n            <App page={page}>{page}</App>\n        </React.StrictMode>\n    );\n} else {\n    console.error('Root element not found');\n}\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\App.js",["127","128"],[],"import './App.css';\nimport {SelectionProvider, SelectionContext} from './components/scripts/SelectionContext';\n\nimport WeeklyPlanner from './components/weeklyPlanner';\nimport HumanRessourcesform from \"./components/humanRessourcesform\";\nimport GenericOptionsAdder from \"./components/GenericOptionsAdder\";\nimport PrestationForm from \"./components/PrestationForm\";\nimport OptionsComponent from \"./components/OptionsComponent\";\nimport AppointmentsDisplayer from \"./components/AppointmentsDisplayer\"\n\nfunction App({page}) {\n    console.log('App executed, page:', page);\n    if (page === 'main') {\n        return <OptionsComponent/>;\n    } else if (page === 'disponibilites') {\n        return (<SelectionProvider>\n            <WeeklyPlanner/>\n        </SelectionProvider>);\n    } else if (page === 'personnel') {\n        return <HumanRessourcesform/>;\n    }else if (page === 'prestations') {\n        return <PrestationForm/>;\n    }else if (page === 'appointments') {\n        return <AppointmentsDisplayer/>;\n    }\n    return null;\n}\n\n\nexport default App;\n\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\reportWebVitals.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\weeklyPlanner.js",["129","130"],[],"/* global wpApiSettings */\nimport {useState, useContext} from 'react';\nimport PlannerLine from './planner_line';\nimport HumanRessourcesActifSelect from './humanActiflist';\n//import { Spinner } from 'react-bootstrap/Spinner';\nimport {SelectionProvider, SelectionContext} from './scripts/SelectionContext';\n\nfunction WeeklyPlanner() {\n    const daysOfWeek = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'];\n    const {loading, availabilities, selectedValue} = useContext(SelectionContext);\n    const [isModified, setIsModified] = useState(false);\n    const [weekData, setWeekData] = useState({});\n    const longestDay = daysOfWeek.reduce((longest, day) => day.length > longest.length ? day : longest, '');\n\n\n    const {handleNewAvail} = useContext(SelectionContext);\n\n    const dayStyle = {\n        minWidth: `${longestDay.length}ch`,\n        display: 'inline-block'\n    };\n\n    const handleInputChange = ({value, index, day}) => {\n        console.log('handleInputChange-weekly', {value, index, day});  // Log ici\n\n        console.log(`On day ${day}, Input at index ${index} has values:`, value);\n        console.log('valueId-weeklyplan: ', value.id);\n        setIsModified(true);\n\n\n        // Transformez les données en un format approprié pour availabilities\n        const formattedData = {\n\n            day,\n            index,\n            opening_time: value.start,\n            closing_time: value.end,\n            id: value.id\n        };\n        console.log('valueId: ', value.id)\n        const postData = {\n            id: value.id,\n            practician_id: selectedValue,  // remplacez par l'ID du praticien\n            day_name: day,\n            opening_time: value.start,\n            closing_time: value.end\n        };\n        console.log('postData: ', postData);\n        // Déterminez l'URL et la méthode basées sur si l'id est défini\n        const url = value.id ? `/wp-json/booking67/v1/availability/${value.id}` : '/wp-json/booking67/v1/availability';\n        const method = value.id ? 'PUT' : 'POST';\n\n        // Envoyer une requête à la route /availability pour sauver ou mettre à jour le créneau\n        fetch(url, {\n            method: method,\n            headers: {\n                'Content-Type': 'application/json',\n                'X-WP-Nonce': wpApiSettings.nonce  // nonce pour l'authentification\n            },\n            body: JSON.stringify(postData)\n        })\n            .then(response => response.json())\n            .then(data => {\n                console.log('Response:', data);  // Log la réponse\n                //on recupere les créneaux mis a jours\n\n                handleNewAvail(selectedValue);\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n\n        setWeekData(prevData => {\n\n            const updatedDayData = prevData[day] ? [...prevData[day]] : [];\n\n            updatedDayData[index] = formattedData;\n\n            const newData = {...prevData, [day]: updatedDayData};  // Modifiez cette ligne\n\n            return newData;  // Modifiez cette ligne\n\n        });\n    };\n    const handleSave = () => {\n        // Supposons que votre état ait une structure comme celle-ci :\n        // const [availabilities, setAvailabilities] = useState({\n        //     Lundi: [{ opening_time: '09:00', closing_time: '17:00' }, ...],\n        //     Mardi: [{ opening_time: '09:00', closing_time: '17:00' }, ...],\n        //     ...\n        // });\n\n        if (typeof availabilities !== 'object' || !availabilities) {\n            console.log('availabilities', availabilities);\n            console.error('availabilities is not an object:', availabilities);\n            return;\n        }\n        console.log('availabilities', availabilities);\n        const formattedData = Object.entries(availabilities).map(([day, slots]) => {\n            if (!Array.isArray(slots)) {\n                console.error('slots is not an array for day', day, ':', slots);\n                return [];\n            }\n\n            return slots.map(slot => ({\n                practician_id: 1,  // Remplacez par l'ID réel du praticien\n                day_name: day,\n                ...slot\n            }));\n        }).flat();\n\n        // Envoyer les données à l'API\n        fetch('/wp-json/booking67/v1/availability', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                // Vous pourriez avoir besoin d'ajouter un en-tête d'autorisation ici si votre API le requiert\n            },\n            body: JSON.stringify(formattedData)\n        })\n            .then(response => {\n                if (!response.ok) {\n                    // Si la réponse n'est pas ok (status code 2xx), rejeter la promesse\n                    return Promise.reject('Failed to save');\n                }\n                return response.json();  // Sinon, retourner la réponse JSON\n            })\n            .then(data => {\n                console.log(data.message);  // Log le message de succès\n                setIsModified(false);  // Réinitialiser l'état isModified\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n    };\n\n    return (\n\n        <div>\n\n            <div style={loading ? {pointerEvents: 'none', opacity: 0.5} : {}}>\n                <HumanRessourcesActifSelect/>\n                {daysOfWeek.map(day => {\n                    const filteredAvailabilities = availabilities ? availabilities.filter(avail => avail.day_name === day) : [];\n\n\n                    return (\n                        <div key={day}>  {/* Encapsulez PlannerLine et <hr /> dans une <div> */}\n                            <PlannerLine\n                                day_name={day}\n                                dayStyle={dayStyle}\n                                availabilityId={filteredAvailabilities.id}\n                                availabilities={filteredAvailabilities}\n                                onChange={(value, index, type, day) => handleInputChange(value, index, day)}\n                                setIsModified={setIsModified}  // Passer setIsModified en tant que prop\n                            />\n                            <hr/>\n                        </div>\n                    );\n                })}\n\n\n            </div>\n            <button\n                style={{\n                    backgroundColor: isModified ? 'orange' : 'mediumblue',\n                    color: 'white',\n                    borderRadius: '5px',\n                    padding: '10px',\n                    border: 'none',\n                    cursor: 'pointer'\n                }}\n                disabled={!isModified}\n                onClick={handleSave}\n            >\n                Save\n            </button>\n        </div>\n\n    );\n}\n\nexport default WeeklyPlanner;\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\SelectionContext.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanactiflist.js",["131"],[],"// fichier humanactifList.js\nimport { useState, useContext,useEffect } from 'react';\nimport { SelectionContext } from './scripts/SelectionContext';\n\nfunction HumanRessourcesActifSelect() {\n\tconst { handleHumanRessourceChange } = useContext(SelectionContext);  // Accédez à handleHumanRessourceChange depuis le contexte\n\n\tconst [data, setData] = useState([]);\n\n\tuseEffect(() => {\n\t\tfetch('/wp-json/booker67/v1/human_ressources_actif')\n\t\t\t.then(response => response.json())\n\t\t\t.then(result => {\n\n\t\t\t\tsetData(result);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<select id=\"humanRessourceSelect\" onChange={handleHumanRessourceChange}>  // Utilisez handleHumanRessourceChange comme gestionnaire d'événements\n\t\t\t\t<option value=\"0\">Choisir un praticien</option>\n\t\t\t\t{data.map(item => (\n\t\t\t\t\t<option key={item.id} value={item.id}>\n\t\t\t\t\t\t{item.nom} {item.prenom} - {item.role}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t</div>\n\t);\n}\n\nexport default HumanRessourcesActifSelect;\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\planner_line.js",["132"],[],"\n/* global wpApiSettings */\nimport { useState, useEffect, useContext  } from 'react';\nimport {SelectionContext, SelectionProvider} from './scripts/SelectionContext';\nimport { Button } from 'react-bootstrap';\nfunction PlannerLine({ day_name = \"Day\", onChange, dayStyle, availabilities = [], setIsModified ,availabilityId}) {\n\n\n\tconst { selectedValue } = useContext(SelectionContext);\n\tconst isDisabled = selectedValue === '0';\n\tconst [isActive, setIsActive] = useState(false);\n\tconst [inputValues, setInputValues] = useState([]);\n\tconst [hasAlerted, setHasAlerted] = useState(false);\n\tconst [shouldValidate, setShouldValidate] = useState(false);\n\n\n\tconst handleButtonClick = () => {\n\t\tsetInputValues([...inputValues, { start: \"\", end: \"\" }]);\n\t};\n\n\n\tconst handleInputChange = (e, index, type) => {\n\t\tconst newValue = e.target.value;\n\t\tconsole.log('handleInputChange-plaanerline:', newValue, index, type);\n\n\t\tconst updatedValues = [...inputValues];\n\t\tupdatedValues[index][type] = newValue;\n\t\tsetInputValues(updatedValues);\n\n\t\t//onChange({value: newValue, index, type, day: day_name});\n\t};\n\n\tconst handleInputBlur = (e, index, type) => {\n\t\tconst newValue = e.target.value;\n\t\t//console.log('handleInputBlur:', newValue, index, type);\n\t\tconst updatedValues = [...inputValues];\n\n//console.log('avail_id : ', availabilityId)\n\t\tupdatedValues[index][type] = newValue;\n\n\t\tsetInputValues(updatedValues);\n\n\n\t\t// Utilisez la regex pour valider le format de l'heure\n\t\tconst timePattern = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;\n\n\t\t// Verifiez si les deux entrées sont valides\n\t\tconst isValidStart = timePattern.test(updatedValues[index].start);\n\t\tconst isValidEnd = timePattern.test(updatedValues[index].end);\n\n\t\t// Mettez à jour l'état isModified seulement si les deux entrées sont valides\n\t\tif (isValidStart && isValidEnd) {\n\n\t\t\t// Si les deux valeurs sont valides, alors remontez les données\n\t\t\tconsole.log('valeur envoyée a onChnge', {value: updatedValues[index], index, day: day_name})\n\t\t\tonChange({\n\t\t\t\tvalue: {\n\t\t\t\t\tstart: updatedValues[index].start,\n\t\t\t\t\tend: updatedValues[index].end,\n\t\t\t\t\tid: updatedValues[index].id,\n\t\t\t\t},\n\n\t\t\t\tindex,\n\t\t\t\tday: day_name\n\t\t\t});  // Modifié ici\n\t\t}\n\n\t\tsetShouldValidate(true);\n\t};\n\t// Dans le composant PlannerLine\n\tconst handleDelete = (index) => {\n\t\tconst idToDelete = inputValues[index].id;\n\t\tif (!idToDelete) {\n\t\t\tconsole.error('ID non trouvé, impossible de supprimer.');\n\t\t\treturn;\n\t\t}\n\n\t\tfetch(`/wp-json/booking67/v1/availability/${idToDelete}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-WP-Nonce': wpApiSettings.nonce  // nonce pour l'authentification\n\t\t\t},\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconsole.log('Suppression réussie:', data);\n\t\t\t\t// Mettez à jour l'état pour refléter la suppression\n\t\t\t\tsetInputValues(prevValues => prevValues.filter((_, idx) => idx !== index));\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Erreur:', error);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (shouldValidate) {\n\t\t\tconst timePattern = /^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;\n\t\t\tfor (let inputValue of inputValues) {\n\t\t\t\t// Si l'un des champs est vide, ignorez la validation\n\t\t\t\tif (inputValue.start === \"\" || inputValue.end === \"\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!timePattern.test(inputValue.start) || !timePattern.test(inputValue.end)) {\n\t\t\t\t\tif (!hasAlerted) {\n\t\t\t\t\t\talert(\"Veuillez saisir une heure au format hh:mm\");\n\t\t\t\t\t\tsetHasAlerted(true);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetShouldValidate(false);\n\t\t}\n\t}, [shouldValidate, inputValues, hasAlerted]);\n\n\tuseEffect(() => {\n\n\t\t//console.log('Running useEffect with availabilities:', availabilities);  // Ajouté\n\t\t//console.log('inputvalues: ',inputValues)\n\t\tlet availValues;\n\t\tif (availabilities && availabilities.length > 0) {  // Assurez-vous que availabilities est défini\n\t\t\t//console.log('ava 2 : ' , availabilities);\n\t\t\tavailValues = availabilities.map(avail => ({ start: avail.opening_time.slice(0, 5), end: avail.closing_time.slice(0, 5),id: avail.id}));\n\t\t\tsetIsActive(true);  // Si des disponibilités sont présentes, mettez isActive à true\n\t\t} else {\n\t\t\tavailValues = [{ start: \"\", end: \"\" ,id:undefined}];\n\t\t\tsetIsActive(false);  // Si aucune disponibilité n'est présente, mettez isActive à false\n\t\t}\n\t\tsetInputValues(availValues);\n\t\t//console.log('availValue: ',availValues);\n\t}, [availabilities]);\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row align-items-center\">\n\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\tchecked={isActive}\n\t\t\t\t\t\tonChange={() => setIsActive(!isActive)}\n\t\t\t\t\t\tdisabled={isDisabled}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-auto\">\n\t\t\t\t\t<label className=\"form-label\" style={{ ...dayStyle }}>{day_name}</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col\">\n\n\t\t\t\t\t{inputValues.map((inputGroup, idx) => (\n\n\t\t\t\t\t\t<div key={idx} className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t<label className=\"form-label\">De</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tvalue={inputGroup.start}\n\t\t\t\t\t\t\t\tdisabled={!isActive || isDisabled}\n\t\t\t\t\t\t\t\tplaceholder=\"hh:mm\"\n\t\t\t\t\t\t\t\tstyle={{ marginTop: idx === 0 ? 0 : '5px' }}\n\t\t\t\t\t\t\t\tonChange={e => handleInputChange(e, idx, 'start')}\n\t\t\t\t\t\t\t\tonBlur={e => handleInputBlur(e, idx, 'start')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className=\"form-label\">  A</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control ms-2\"\n\t\t\t\t\t\t\t\tvalue={inputGroup.end}\n\t\t\t\t\t\t\t\tdisabled={!isActive || isDisabled}\n\t\t\t\t\t\t\t\tplaceholder=\"hh:mm\"\n\t\t\t\t\t\t\t\tstyle={{ marginTop: idx === 0 ? 0 : '5px' }}\n\t\t\t\t\t\t\t\tonChange={e => handleInputChange(e, idx, 'end')}\n\t\t\t\t\t\t\t\tonBlur={e => handleInputBlur(e, idx, 'end')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{inputGroup.start && inputGroup.end && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger ms-2\"\n\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(idx)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={handleButtonClick}\n\t\t\t\t\t\t\t\tdisabled={!isActive || isDisabled}\n\t\t\t\t\t\t\t\tclassName=\"btn btn-primary ms-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PlannerLine;\n\n\n\n\n\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanRessourcesform.js",["133","134","135"],[],"import { useState, useEffect } from 'react';\n\nimport HumanList from './humanList';\nfunction HumanRessourcesForm() {\n\tconst [nom, setNom] = useState('');\n\tconst [prenom, setPrenom] = useState('');\n\tconst [role, setRole] = useState('');\n\tconst [actif, setActif] = useState(true);\n\tconst [currentUser, setCurrentUser] = useState(null);\n\n\n\n\n\n\tconst handleSubmit = async () => {\n\t\tconst response = await fetch('/wp-json/booking67/v1/human_ressources', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tnom,\n\t\t\t\tprenom,\n\t\t\t\trole,\n\t\t\t\tactif,\n\t\t\t}),\n\t\t});\n\n\t\tconst data = await response.json();\n\t\tif (data.success) {\n\t\t\talert('Utilisateur ajouté avec succès!');\n\t\t\tsetNom('');\n\t\t\tsetPrenom('');\n\t\t\tsetRole('');\n\t\t\tsetActif(true);\n\t\t} else {\n\t\t\talert(data.message || 'Erreur lors de l’ajout.');\n\t\t}\n\t};\n\n//TODO :verifier que l'user a les permission 'important pour la securité'\n\n\treturn (\n\t\t<div>\n\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between', padding: '10px' }}>\n\t\t\t\t<HumanList/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Nom\"\n\t\t\t\tvalue={nom}\n\t\t\t\tonChange={(e) => setNom(e.target.value)}\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Prénom\"\n\t\t\t\tvalue={prenom}\n\t\t\t\tonChange={(e) => setPrenom(e.target.value)}\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Role\"\n\t\t\t\tvalue={role}\n\t\t\t\tonChange={(e) => setRole(e.target.value)}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<label>Actif:</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tchecked={actif}\n\t\t\t\t\tonChange={() => setActif(!actif)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<button onClick={handleSubmit}>Ajouter</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default HumanRessourcesForm;\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanList.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\humanActiflist.js",["136"],[],"// fichier humanactifList.js\nimport { useState, useContext,useEffect } from 'react';\nimport { SelectionContext } from './scripts/SelectionContext';\n\nfunction HumanRessourcesActifSelect() {\n\tconst { handleHumanRessourceChange } = useContext(SelectionContext);  // Accédez à handleHumanRessourceChange depuis le contexte\n\n\tconst [data, setData] = useState([]);\n\n\tuseEffect(() => {\n\t\tfetch('/wp-json/booking67/v1/human_ressources_actif')\n\t\t\t.then(response => response.json())\n\t\t\t.then(result => {\n\n\t\t\t\tsetData(result);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<select id=\"humanRessourceSelect\" onChange={handleHumanRessourceChange}>  // Utilisez handleHumanRessourceChange comme gestionnaire d'événements\n\t\t\t\t<option value=\"0\">Choisir un praticien</option>\n\t\t\t\t{data.map(item => (\n\t\t\t\t\t<option key={item.id} value={item.id}>\n\t\t\t\t\t\t{item.nom} {item.prenom} - {item.role}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t</div>\n\t);\n}\n\nexport default HumanRessourcesActifSelect;\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\activeHumans.js",["137","138"],[],"import React, { useState, useEffect } from 'react';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\nfunction ActiveHumans({ users, setUsers }) {\r\n //   const [activeUsers, setActiveUsers] = useState([]);\r\n    const [loading, setLoading] = useState(false); // modifier a true si mise en place du loader\r\n/*\r\n    useEffect(() => {\r\n        fetch('/wp-json/booking67/v1/human_ressources_actif', {  // Ajustez l'URL en fonction de votre API\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setActiveUsers(data);\r\n                setLoading(false);\r\n            })\r\n            .catch(error => console.error('Error fetching active users:', error));\r\n    }, []);\r\n*/\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Personnel actif</h2>\r\n            <Droppable droppableId=\"active\">\r\n                {(provided) => (\r\n                    <ul ref={provided.innerRef} {...provided.droppableProps}>\r\n                        {users.map((user, index) => (\r\n                            <Draggable key={user.id} draggableId={String(user.id)} index={index}>\r\n                                {(provided) => (\r\n                                    <li\r\n                                        ref={provided.innerRef}\r\n                                        {...provided.draggableProps}\r\n                                        {...provided.dragHandleProps}\r\n                                    >\r\n                                        {user.nom} {user.prenom} - {user.role}\r\n                                    </li>\r\n                                )}\r\n                            </Draggable>\r\n                        ))}\r\n                        {provided.placeholder}\r\n                    </ul>\r\n                )}\r\n            </Droppable>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ActiveHumans;","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\InactiveHumans.js",["139","140"],[],"import React, { useState, useEffect } from 'react';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\nfunction InactiveHumans({ users, setUsers }) {\r\n  //  const [inactiveUsers, setInactiveUsers] = useState([]);\r\n    const [loading, setLoading] = useState(false); // modifier a true si mise en place du loader\r\n/*\r\n    useEffect(() => {\r\n        fetch('/wp-json/booking67/v1/human_ressources_inactif', {  // Ajustez l'URL en fonction de votre API\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setInactiveUsers(data);\r\n                setLoading(false);\r\n            })\r\n            .catch(error => console.error('Error fetching inactive users:', error));\r\n    }, []);\r\n*/\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Personnel inactif</h2>\r\n            <Droppable droppableId=\"inactive\">\r\n                {(provided) => (\r\n                    <ul ref={provided.innerRef} {...provided.droppableProps}>\r\n                        {users.map((user, index) => (\r\n                            <Draggable key={user.id} draggableId={String(user.id)} index={index}>\r\n                                {(provided) => (\r\n                                    <li\r\n                                        ref={provided.innerRef}\r\n                                        {...provided.draggableProps}\r\n                                        {...provided.dragHandleProps}\r\n                                    >\r\n                                        {user.nom} {user.prenom} - {user.role}\r\n                                    </li>\r\n                                )}\r\n                            </Draggable>\r\n                        ))}\r\n                        {provided.placeholder}\r\n                    </ul>\r\n                )}\r\n            </Droppable>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InactiveHumans;\r\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\GenericOptionsAdder.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\genericAllow.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\PrestationForm.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\HumanActiflist.js",["141"],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\EditPrestationModal.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\OptionsComponent.js",["142"],[],"import React, { useState,useEffect } from 'react';\r\nimport fetchOptions from \"./scripts/fetchOptions\";\r\nfunction OptionsComponent() {\r\n    const [options, setOptions] = useState({\r\n        hasFixedTimeSlots: false,\r\n        slotDuration: 0,\r\n        multipleAppointments: false,\r\n        maxAppointments: 0,\r\n        multiplePracticians: false,\r\n        multiPrestations: false,\r\n        indicateNumberOfParticipants: false,\r\n        allowObservations: false\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        fetchOptions(['genType_hasFixedTimeSlots', 'genType_multipleAppointments','genType_slotDuration','genType_maxAppointments','genType_multiplePracticians','genType_multiPrestations','genType_indicateNumberOfParticipants','genType_allowObservations']).then(data => {\r\n\r\n            setOptions(transformFetchedOptions(data));\r\n        });\r\n\r\n    }, []);\r\n    // Fonction pour transformer les données récupérées en format attendu\r\n    const transformFetchedOptions = (fetchedOptions) => {\r\n        let newOptions = { ...options };\r\n        fetchedOptions.forEach(opt => {\r\n            const key = opt.generic_type.replace('genType_', '');\r\n            newOptions[key] = (opt.value === 'true' || opt.value === 'false') ? opt.value === 'true' : opt.value;\r\n        });\r\n        return newOptions;\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        setOptions(prevOptions => ({\r\n            ...prevOptions,\r\n            [name]: type === 'checkbox' ? checked : value\r\n        }));\r\n    };\r\n    // Génération des options pour les durées de créneau\r\n    const slotDurationOptions = [];\r\n    for (let i = 15; i <= 180; i += 15) {\r\n        slotDurationOptions.push(<option key={i} value={i}>{i} minutes</option>);\r\n    }\r\n    const handleSubmit = async () => {\r\n        try {\r\n            const response = await fetch('/wp-json/booking67/v1/multiOptions', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(options)\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Erreur lors de l\\'envoi des données');\r\n            }\r\n\r\n            const responseData = await response.json();\r\n            console.log('Succès:', responseData);\r\n        } catch (error) {\r\n            console.error('Erreur handlesubmit optonsComponent:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n\r\n            <label>\r\n                Les rendez-vous ont-ils une heure de début et une heure de fin ?\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"hasFixedTimeSlots\"\r\n                    checked={options.hasFixedTimeSlots}\r\n                    onChange={handleChange}\r\n                />\r\n            </label>\r\n            <br/>\r\n            {options.hasFixedTimeSlots && (\r\n                <label>\r\n                    Durée des créneaux\r\n                    <select\r\n                        name=\"slotDuration\"\r\n                        value={options.slotDuration}\r\n                        onChange={handleChange}\r\n                    >\r\n                        {slotDurationOptions}\r\n                    </select>\r\n                </label>\r\n\r\n            )}\r\n            <br/>\r\n            <label>\r\n                Plusieurs rendez-vous peuvent-il être pris simultanément ?\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"multipleAppointments\"\r\n                    checked={options.multipleAppointments}\r\n                    onChange={handleChange}\r\n                />\r\n            </label>\r\n            <br/>\r\n            {options.multipleAppointments && (\r\n                <label>\r\n                    Nombre de rendez-vous simultanés maximum\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"maxAppointments\"\r\n                        value={options.maxAppointments}\r\n                        onChange={handleChange}\r\n                        min=\"0\"\r\n                    /> (0 = illimités)\r\n                </label>\r\n            )}\r\n            <br/>\r\n            <label>\r\n                Intervenant multiples :\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"multiplePracticians\"\r\n                    checked={options.multiplePracticians}\r\n                    onChange={handleChange}\r\n                />\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                Prestations multiples:\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"multiPrestations\"\r\n                    checked={options.multiPrestations}\r\n                    onChange={handleChange}\r\n                />\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                Le client peut/doit indiquer le nombre de participants :\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"indicateNumberOfParticipants\"\r\n                    checked={options.indicateNumberOfParticipants}\r\n                    onChange={handleChange}\r\n                />\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                Le client peut laisser une observation :\r\n                <input\r\n                    type=\"checkbox\"\r\n                    name=\"allowObservations\"\r\n                    checked={options.allowObservations}\r\n                    onChange={handleChange}\r\n                />\r\n            </label>\r\n            {/* Autres champs... */}\r\n            <br/>\r\n            <button onClick={handleSubmit}>Enregistrer les Options</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OptionsComponent;\r\n","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\scripts\\fetchOptions.js",[],[],"C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\AppointmentsDisplayer.js",["143","144"],[],"import React, { useState, useEffect } from 'react';\r\nimport fetchOptions from \"./scripts/fetchOptions\";\r\nimport Booking67_Appointment from \"./Booking67_Appointment\";\r\nimport {useFetch} from \"../hooks/useFetch\";\r\nimport  './css/appointmentsDisplayer.css'\r\nfunction AppointmentsDisplayer() {\r\n    const [options, setOptions] = useState({\r\n        hasFixedTimeSlots: false,\r\n        slotDuration: 0,\r\n        multipleAppointments: false,\r\n        maxAppointments: 0,\r\n        multiplePracticians: false,\r\n        multiPrestations: false,\r\n        indicateNumberOfParticipants: false,\r\n        allowObservations: false\r\n    });\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [appointments, setAppointments] = useState([]);\r\n    const [modalInfo, setModalInfo] = useState({ show: false, url: '', appointmentId: null, type: null });\r\n    //recuperation des options necessaires\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        fetchOptions([ 'genType_multipleAppointments', 'genType_slotDuration', 'genType_maxAppointments', 'genType_multiplePracticians', 'genType_multiPrestations', 'genType_indicateNumberOfParticipants', 'genType_allowObservations'])\r\n        .then(data => {\r\n                setOptions(transformFetchedOptions(data));\r\n            })\r\n                .finally(() => {\r\n                    //recuperation des rdv futur\r\n                    booking67_getUpcommingAppointments();\r\n                    setIsLoading(false); // Désactiver le loader après avoir récupéré les données\r\n                });\r\n        }, []);\r\n    const transformFetchedOptions = (fetchedOptions) => {\r\n        let newOptions = { ...options };\r\n        fetchedOptions.forEach(opt => {\r\n            const key = opt.generic_type.replace('genType_', '');\r\n            newOptions[key] = (opt.value === 'true' || opt.value === 'false') ? opt.value === 'true' : opt.value;\r\n        });\r\n        return newOptions;\r\n    };\r\n\r\n    const handleModalOpen = (url, appointmentId, type) => {\r\n        setModalInfo({ show: true, url, appointmentId, type });\r\n    };\r\n    const handleModalClose = () => {\r\n        setModalInfo({ show: false, url: '', appointmentId: null });\r\n    };\r\nconst booking67_getUpcommingAppointments = ()=>{\r\n        fetch('/wp-json/booking67/v1/upcoming-appointments', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error('Erreur réseau');\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                setAppointments(data);\r\n                // Traiter les données ici\r\n                console.log('data',data);\r\n            })\r\n            .catch((error) => console.error('Erreur:', error));\r\n    }\r\n    return (\r\n        <div>\r\n            {isLoading ? (\r\n                <div className='loader'>Chargement...</div>\r\n            ) : (\r\n                <div>\r\n                    {appointments.map(rdv => (\r\n                        <Booking67_Appointment\r\n                            key={rdv.id}\r\n                            rdv={rdv}\r\n                            options={options}\r\n                            onModalOpen={handleModalOpen}\r\n                            isHighlighted={modalInfo.appointmentId === rdv.id}\r\n                        />\r\n                    ))}\r\n                    {modalInfo.show && (\r\n                        <Modal\r\n                            url={modalInfo.url}\r\n                            onClose={handleModalClose}\r\n                            type={modalInfo.type}\r\n                        />\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\nfunction Modal({ onClose, url, type }) {\r\n    const { loading, data, errors } = useFetch(url, []);\r\n    let content;\r\n    if (loading) {\r\n        content = <div className='loader'>Chargement...</div>;\r\n    } else if (errors) {\r\n        content = <div>Erreur lors du chargement des données</div>;\r\n    } else {\r\n        if (type === 'practician') {\r\n            content = <div>\r\n                <b>Intervenant :</b>{data.nom} - {data.prenom}\r\n                <hr/>\r\n                   <b> Role :</b> {data.role}\r\n            </div>;\r\n        } else if (type === 'prestation') {\r\n            content = <div>\r\n                <b>Prestation : </b>{data.prestation_name}\r\n                <hr/>\r\n                <b>Montant :</b> {data.prestation_cost}\r\n                <hr/>\r\n                <b>Durée :</b> {data.prestation_duration}\r\n            </div>;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\">\r\n            <div className=\"modal-content\">\r\n                {content}\r\n                <button className=\"modal-close-button\" onClick={onClose}>Fermer</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport  default AppointmentsDisplayer;","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\components\\Booking67_Appointment.js",["145","146","147","148","149"],[],"import React, {useEffect, useState} from 'react';\r\nimport './css/appointment.css'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faUsers,\r\n    faHandsHelping,\r\n    faHourglassHalf,\r\n    faCheckCircle,\r\n    faBan,\r\n    faCalendarTimes,\r\n    faCheckDouble,\r\n    faMoneyBillWave\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\n\r\nfunction booking67_getStatusIcon(status) {\r\n    const numericStatus = Number(status);\r\n    switch (parseInt(numericStatus)) {\r\n        case 1:\r\n            return faHourglassHalf;\r\n        case 2:\r\n            return faCheckCircle;\r\n        case 0:\r\n            return faBan;\r\n        case 3:\r\n            return faCalendarTimes;\r\n        case 4:\r\n            return faCheckDouble;\r\n        case 6:\r\n            return faMoneyBillWave;\r\n        default:\r\n            return faMoneyBillWave;\r\n    }\r\n}\r\n\r\nfunction booking67_getStatusColor(status) {\r\n    let iconClass = 'waiting';\r\n    switch (parseInt(status)) {\r\n        case 1:\r\n            iconClass = 'waiting';\r\n            break;\r\n        case 2:\r\n            iconClass = 'confirmed';\r\n            break;\r\n        case 0:\r\n            iconClass = 'cancelled';\r\n            break;\r\n        case 3:\r\n            iconClass = 'postponed';\r\n            break;\r\n        case 4:\r\n            iconClass = 'completed';\r\n            break;\r\n        case 6:\r\n            iconClass = 'paid';\r\n            break;\r\n\r\n    }\r\n    return iconClass\r\n}\r\n\r\n\r\n\r\nfunction Booking67_Appointment({rdv, options, onModalOpen, isHighlighted}) {\r\n    const [modalInfo, setModalInfo] = useState({show: false, url: '<div>Erreur de contenu de la fenêtre</div>'});\r\n    const statusIcon = booking67_getStatusIcon(rdv.rdv_status);\r\n    const iconClass = booking67_getStatusColor(rdv.rdv_status);\r\n    let url= '';\r\n    const appointmentClass = `appointment-row ${isHighlighted ? 'highlighted' : ''}`;\r\n\r\n    function booking67_handleIconClick(divType,id) {\r\nlet ur =booking67_generateModalContent(divType,id);\r\n        onModalOpen(ur, rdv.id, divType);\r\n\r\n\r\n    }\r\n    function booking67_generateModalContent(divType, id) {\r\n        switch (divType) {\r\n            case 'practician':\r\n                url = '/wp-json/booking67/v1/human-ressource/' + id;\r\n                break;\r\n            case 'prestation':\r\n                url= '/wp-json/booking67/v1/prestation/' + id;\r\n                break;\r\n            default:\r\n                return \"format url impossible\";\r\n        }\r\n        return url\r\n    }\r\n\r\n\r\n\r\n    booking67_getStatusColor(rdv.rdv_status)\r\n    booking67_getStatusIcon(rdv.rdv_status)\r\n    return (\r\n        <div className=\"appointment-row\">\r\n            <div className=\"appointment-date\">{new Date(rdv.rdv_dateTime).toLocaleDateString()}</div>\r\n            <div className=\"appointment-time\">{new Date(rdv.rdv_dateTime).toLocaleTimeString()}</div>\r\n            <div className=\"user-name\">{rdv.user_firstName} {rdv.user_lastName}</div>\r\n            <div className=\"user-phone\">{rdv.user_phone}</div>\r\n            <div className=\"user-mail\">{rdv.user_mail}</div>\r\n\r\n            {options.multiplePracticians && (\r\n                <>\r\n                    <div className=\"practician-name\">\r\n                        <FontAwesomeIcon icon={faUsers}\r\n                                         onClick={() => booking67_handleIconClick('practician',rdv.practician_id)}/>\r\n                    </div>\r\n\r\n                </>\r\n            )}\r\n\r\n            {options.multiPrestations && (\r\n                <div className=\"prestation-name\">\r\n                    <FontAwesomeIcon icon={faHandsHelping}\r\n                                     onClick={() => booking67_handleIconClick('prestation',rdv.prestation_id)}/>\r\n                </div>\r\n            )}\r\n            <div className=\"appointment-status\">\r\n\r\n                {statusIcon && <FontAwesomeIcon icon={statusIcon} className={iconClass}/>}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default Booking67_Appointment;","C:\\Users\\merci\\Local Sites\\wordpress-react-test\\app\\public\\wp-content\\plugins\\booking67\\components\\src\\hooks\\useFetch.js",["150"],[],"import {useState, useEffect} from \"react\"\r\n\r\n\r\nexport function useFetch(url, options = {}) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [errors, setErrors] = useState(null)\r\n    const [data, setData] = useState(null)\r\n\r\n    useEffect(() => {\r\n        console.log('url useFetch: ', url)\r\n        fetch(url, {\r\n            ...options,\r\n            headers: {\r\n                'Accept': 'application/json; charset : UTF-8',\r\n                ...options.headers\r\n            }\r\n        })\r\n            .then(r => r.json())\r\n            .then(data => {\r\n                setData(data)\r\n            })\r\n            .catch((e) => {\r\n                console.log('erreurs:' , errors)\r\n                setErrors(e)\r\n            })\r\n            .finally(() => setLoading(false))\r\n    },[]);\r\n    return { loading, data, errors}\r\n}",{"ruleId":"151","severity":1,"message":"152","line":14,"column":7,"nodeType":"153","messageId":"154","endLine":14,"endColumn":11},{"ruleId":"151","severity":1,"message":"155","line":2,"column":28,"nodeType":"153","messageId":"154","endLine":2,"endColumn":44},{"ruleId":"151","severity":1,"message":"156","line":6,"column":8,"nodeType":"153","messageId":"154","endLine":6,"endColumn":27},{"ruleId":"151","severity":1,"message":"157","line":6,"column":9,"nodeType":"153","messageId":"154","endLine":6,"endColumn":26},{"ruleId":"151","severity":1,"message":"158","line":12,"column":12,"nodeType":"153","messageId":"154","endLine":12,"endColumn":20},{"ruleId":"159","severity":1,"message":"160","line":21,"column":76,"nodeType":"161","messageId":"162","endLine":22,"endColumn":5},{"ruleId":"151","severity":1,"message":"157","line":4,"column":27,"nodeType":"153","messageId":"154","endLine":4,"endColumn":44},{"ruleId":"151","severity":1,"message":"163","line":1,"column":20,"nodeType":"153","messageId":"154","endLine":1,"endColumn":29},{"ruleId":"151","severity":1,"message":"164","line":9,"column":9,"nodeType":"153","messageId":"154","endLine":9,"endColumn":20},{"ruleId":"151","severity":1,"message":"165","line":9,"column":22,"nodeType":"153","messageId":"154","endLine":9,"endColumn":36},{"ruleId":"159","severity":1,"message":"160","line":21,"column":76,"nodeType":"161","messageId":"162","endLine":22,"endColumn":5},{"ruleId":"151","severity":1,"message":"163","line":1,"column":27,"nodeType":"153","messageId":"154","endLine":1,"endColumn":36},{"ruleId":"151","severity":1,"message":"166","line":6,"column":21,"nodeType":"153","messageId":"154","endLine":6,"endColumn":31},{"ruleId":"151","severity":1,"message":"163","line":1,"column":27,"nodeType":"153","messageId":"154","endLine":1,"endColumn":36},{"ruleId":"151","severity":1,"message":"166","line":5,"column":21,"nodeType":"153","messageId":"154","endLine":5,"endColumn":31},{"ruleId":"159","severity":1,"message":"160","line":21,"column":76,"nodeType":"161","messageId":"162","endLine":22,"endColumn":5},{"ruleId":"167","severity":1,"message":"168","line":22,"column":8,"nodeType":"169","endLine":22,"endColumn":10,"suggestions":"170"},{"ruleId":"167","severity":1,"message":"168","line":32,"column":12,"nodeType":"169","endLine":32,"endColumn":14,"suggestions":"171"},{"ruleId":"172","severity":1,"message":"173","line":75,"column":25,"nodeType":"174","messageId":"175","endLine":81,"endColumn":27},{"ruleId":"151","severity":1,"message":"163","line":1,"column":16,"nodeType":"153","messageId":"154","endLine":1,"endColumn":25},{"ruleId":"176","severity":1,"message":"177","line":39,"column":5,"nodeType":"178","messageId":"179","endLine":59,"endColumn":6},{"ruleId":"151","severity":1,"message":"180","line":66,"column":12,"nodeType":"153","messageId":"154","endLine":66,"endColumn":21},{"ruleId":"151","severity":1,"message":"181","line":66,"column":23,"nodeType":"153","messageId":"154","endLine":66,"endColumn":35},{"ruleId":"151","severity":1,"message":"182","line":70,"column":11,"nodeType":"153","messageId":"154","endLine":70,"endColumn":27},{"ruleId":"167","severity":1,"message":"183","line":27,"column":7,"nodeType":"169","endLine":27,"endColumn":9,"suggestions":"184"},"no-unused-vars","'root' is assigned a value but never used.","Identifier","unusedVar","'SelectionContext' is defined but never used.","'GenericOptionsAdder' is defined but never used.","'SelectionProvider' is defined but never used.","'weekData' is assigned a value but never used.","react/jsx-no-comment-textnodes","Comments inside children section of tag should be placed inside braces","JSXText","putCommentInBraces","'useEffect' is defined but never used.","'currentUser' is assigned a value but never used.","'setCurrentUser' is assigned a value but never used.","'setLoading' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'transformFetchedOptions'. Either include it or remove the dependency array.","ArrayExpression",["185"],["186"],"react/jsx-pascal-case","Imported JSX component Booking67_Appointment must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","usePascalOrSnakeCase","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","'modalInfo' is assigned a value but never used.","'setModalInfo' is assigned a value but never used.","'appointmentClass' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'errors', 'options', and 'url'. Either include them or remove the dependency array.",["187"],{"desc":"188","fix":"189"},{"desc":"188","fix":"190"},{"desc":"191","fix":"192"},"Update the dependencies array to be: [transformFetchedOptions]",{"range":"193","text":"194"},{"range":"195","text":"194"},"Update the dependencies array to be: [errors, options, url]",{"range":"196","text":"197"},[849,851],"[transformFetchedOptions]",[1554,1556],[792,794],"[errors, options, url]"]