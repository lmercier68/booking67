"use client";
import {
  dispatch
} from "./7JP5HWUW.js";
import {
  flushMicrotasks,
  wrapAsync
} from "./LHKK7Y5F.js";

// src/blur.ts
import { getActiveElement } from "@ariakit/core/utils/dom";
function blur(element) {
  return wrapAsync(async () => {
    if (element == null) {
      element = document.activeElement;
    }
    if (!element)
      return;
    if (element.tagName === "BODY")
      return;
    if (getActiveElement(element) !== element)
      return;
    if (element.dirty) {
      await dispatch.change(element);
      element.dirty = false;
    }
    if (element instanceof HTMLElement || element instanceof SVGElement) {
      element.blur();
      await flushMicrotasks();
    }
  });
}

export {
  blur
};
